---
title: "Text mining"
subtitle: "na przykładzie Google News"
author: "&copy; Łukasz Wawrowski"
date: ""
output:
  xaringan::moon_reader:
    css: ["default.css", "default-fonts.css"]
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r include=FALSE}
library(tidyverse)
library(stringi)
library(stringdist)
library(countdown)
```

# Plan szkolenia

1. Wprowadzenie

2. Odlegość pomiędzy tekstami

3. Metoda n-gramów

4. Lemmatyzacja

---

# Materiały

Pakiety R:

- udpipe

- stylo

- ngram

- stringdist

---

# Źródła danych

---

# Wprowadzenie

Text mining - ogólna nazwa metod eksploracji danych służących do wydobywania danych z tekstu i ich późniejszej obróbki [[Wikipedia](https://pl.wikipedia.org/wiki/Text_mining)].

Zastosowania:

- łączenie niedeterministyczne

- analiza wydzwięku/sentymentu

- przetwarzanie języka naturalnego

---

# Tekst - nośnik wiedzy

- dane wejściowe (imona, nazwiska, kategorie)

- dane wyjściowe (skrypty, PDF, strony internetowe)

---

# Przetwarzanie tekstu w R

Operacje na wektorach.

--

```{r}
tekst <- "Text mining w R"

nchar(tekst)

charToRaw(tekst)

rawToChar(rev(charToRaw(tekst)))
```

---

# Przetwarzanie napisów

Bazowe funkcje w R są mało intuicyjne.

--

Pakiet **stringi** autorstwa Marka Gągolewskiego zawierający 234 funkcje.

Pakiet **stringr** zawierający 42 funkcje z pakietu **stringi**.

- prosty w użyciu - funkcje zaczynają się przedrostkiem `stri_`

- wiele przydatnych funkcji

- bardzo szybki

- bardzo _eRowy_

```{r}
paste(letters[1:3], NA)
stri_join(letters[1:3], NA)
```

???

https://drive.google.com/drive/u/0/folders/0B-ZJyVlQBsqlcXRsaHI5bDdtaUk

---

# Wyrażenia regularne

---

# Odległość tekstów

- **odległość Hamminga** - liczba takich samych znaków na tej samej pozycji w obu ciągach. Może być obliczona tylko dla tekstów o tej samej długości.
- **odległość Levenshteina** - odległość to liczba kroków wymaganych do przekształcenia jednego ciągu znaków w drugi. Działania jakie można wykonywać to wstawienie nowego znaku, usunięcie znaku lub zamianę znaku na nowy znak.
- **odległość Damerau-Levenshteina** - podobnie jak odległość Levenshteina, ale wprowadza działanie polegające na zamianie miejscami sąsiadujących znaków.
- **odległość Damerau-Levenshteina z ograniczeniem** - podobnie jak odległość Damerau-Levenshteina, ale każdy podłańcuch może być modyfikowany tylko raz.
- **najdłuższy wspólny podłańcuch** (ang. longest common substring) - znajduje najdłuższy ciąg elementów leżących obok siebie w obu ciągach, natomiast odległość to liczba niesparowanych znaków.
- **odległość Jaro** - średnia z odsetka wspólnych znaków w pierwszym ciągu, odsetka wspólnych znaków w drugim ciągu oraz odsetka wspólnych znaków nie wymagających transpozycji. Przyjmuje wartości od 0 do 1, gdzie 0 to teksty identyczne, a 1 zupełnie różne.
- **odległość Jaro-Winklera** - zwiększenie podobieństwa ciągów, które według odległości Jaro są do siebie podobne.

[źródło](https://www.joyofdata.de/blog/comparison-of-string-distance-algorithms/)


---

# Q-gram

```{r}
qgrams("przynajmniej", "bynajmniej", q=2)
```

- **odległość q-gramu** - liczba różnych q-gramów w obu ciągach

```{r}
stringdist("przynajmniej", "bynajmniej", method = "qgram", q=2)
```

- **odległość cosinusowa** - 

```{r}
stringdist("przynajmniej", "bynajmniej", method = "cosine", q=2)
```


---

# Części mowy

- rzeczownik (NOUN)
- czasownik (VERB)
- przymiotnik (ADJ - adjective)
- przysłówek (ADV - adverb)

- zaimek (PRON - pronoun)
- nazwy własne (PROPN - proper noun)
- przyimki określajace położenie (ADP - adposition)
- wykrzyknik (INTJ - interjection)
- spójnik koordynujący (CCONJ - coordinating conjunction)
- znak interpunkcyjny (PUNCT - punctuation)
- liczebnik (NUM - numeral)
- partykuła (PART = particle)
- (AUX - auxiliary)
- (DET - determiner)
- spójnik podrzędny (SCONJ - subordinating conjunction)
- (SYM - symbol)

[źródło](https://universaldependencies.org/u/pos/index.html)

---

# Lematyzacja

Sprowadzanie formy fleksyjnej wyrazu do postaci słownikowej.

---

# Zbiór wynikowy

---

# Kontekst

Dla słów ważny jest kontekst. 

- RAKE (Rapid Automatic Keyword Extraction)

- Punktowa wzajemna informacja (Pointwise mutual information)

- Parts of Speech phrase sequence detection

---

# RAKE

https://monkeylearn.com/keyword-extraction/

---

# PMI

https://en.wikipedia.org/wiki/Pointwise_mutual_information

